<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Google Analytics browser version explorer</title>
	<link rel="stylesheet" type="text/css" href="./index.css">
</head>
<body>
	<header>
		<h1>Explore browser versions from analytics data</h1>
		<p><a href='https://github.com/danburzo/ga-browsers/'>Source code</a></p>
	</header>

	<p className='dropzone' onDrop={onDrop} onDragOver={onDragOver}>
		<strong>Drop a Google Analytics <code>.csv</code> in this box.</strong> (<a href='https://github.com/danburzo/ga-browsers'>How do I make one?</a>)
	</p>
	{ contents && 
		<div className='slider'>
			List browsers for <input type='range' value={threshold} min='0' max='100' step='0.25' onChange={e => setTreshold(e.target.value)} /> {threshold}% of visitors and sort by {' '}
			<select value={sort} onChange={ e => setSort(e.target.value)}>
				<option value='usage'>usage</option>
				<option value='name'>name</option>
			</select>
		</div>
	}
	{browsers && (<ul className='target-browsers'>
		{browsers.map((item,idx) => <li key={idx}>{item[0]} {item[1].version}</li>)}
	</ul>)}
	{ contents && <Chart contents={contents}/> }
	<script type="module" src='./index.js'></script>
</body>
</html>